{"ast":null,"code":"import{useState}from'react';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function Square(_ref){let{value,onSquareClick,highlight}=_ref;return/*#__PURE__*/_jsx(\"button\",{className:\"square \".concat(highlight?'highlight':''),onClick:onSquareClick,children:value});}function Board(_ref2){let{xIsNext,squares,onPlay}=_ref2;function handleClick(i){if(calculateWinner(squares)||squares[i]){return;}const nextSquares=squares.slice();nextSquares[i]=xIsNext?'X':'O';onPlay(nextSquares,i);// ✅ truyền vị trí click lên Game\n}const winnerInfo=calculateWinner(squares);const winner=winnerInfo?winnerInfo.winner:null;const winningSquares=winnerInfo?winnerInfo.line:[];let status;if(winner){status='Winner: '+winner;}else if(!squares.includes(null)){status='Draw! No one wins.';}else{status='Next player: '+(xIsNext?'X':'O');}const boardRows=[];for(let row=0;row<3;row++){const rowSquares=[];for(let col=0;col<3;col++){const index=row*3+col;const isHighlighted=winningSquares.includes(index);rowSquares.push(/*#__PURE__*/_jsx(Square,{value:squares[index],onSquareClick:()=>handleClick(index),highlight:isHighlighted},index));}boardRows.push(/*#__PURE__*/_jsx(\"div\",{className:\"board-row\",children:rowSquares},row));}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"status\",children:status}),boardRows]});}export default function Game(){const[history,setHistory]=useState([{squares:Array(9).fill(null),location:null}]);const[currentMove,setCurrentMove]=useState(0);const[isAscending,setIsAscending]=useState(true);const xIsNext=currentMove%2===0;const currentSquares=history[currentMove].squares;function handlePlay(nextSquares,moveIndex){const row=Math.floor(moveIndex/3)+1;const col=moveIndex%3+1;const moveLocation=\"(\".concat(row,\", \").concat(col,\")\");const nextHistory=[...history.slice(0,currentMove+1),{squares:nextSquares,location:moveLocation}];setHistory(nextHistory);setCurrentMove(nextHistory.length-1);}function jumpTo(nextMove){setCurrentMove(nextMove);}const moves=history.map((step,move)=>{const desc=move>0?\"Go to move #\".concat(move,\" \").concat(step.location?step.location:''):'Go to game start';if(move===currentMove){return/*#__PURE__*/_jsxs(\"li\",{className:\"li-items\",children:[\"You are at move #\",move,\" \",step.location?step.location:'']},move);}else{return/*#__PURE__*/_jsx(\"li\",{className:\"li-items\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>jumpTo(move),children:desc})},move);}});const sortedMoves=isAscending?moves:[...moves].reverse();return/*#__PURE__*/_jsxs(\"div\",{className:\"game\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"game-board\",children:/*#__PURE__*/_jsx(Board,{xIsNext:xIsNext,squares:currentSquares,onPlay:handlePlay})}),/*#__PURE__*/_jsxs(\"div\",{className:\"game-info\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setIsAscending(!isAscending),children:[\"Sort \",isAscending?'Descending':'Ascending']}),/*#__PURE__*/_jsx(\"ol\",{children:sortedMoves})]})]});}// ✅ Trả về cả người thắng và 3 ô thắng\nfunction calculateWinner(squares){const lines=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(let i=0;i<lines.length;i++){const[a,b,c]=lines[i];if(squares[a]&&squares[a]===squares[b]&&squares[a]===squares[c]){return{winner:squares[a],line:[a,b,c]};}}return null;}","map":{"version":3,"names":["useState","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Square","_ref","value","onSquareClick","highlight","className","concat","onClick","children","Board","_ref2","xIsNext","squares","onPlay","handleClick","i","calculateWinner","nextSquares","slice","winnerInfo","winner","winningSquares","line","status","includes","boardRows","row","rowSquares","col","index","isHighlighted","push","Game","history","setHistory","Array","fill","location","currentMove","setCurrentMove","isAscending","setIsAscending","currentSquares","handlePlay","moveIndex","Math","floor","moveLocation","nextHistory","length","jumpTo","nextMove","moves","map","step","move","desc","sortedMoves","reverse","lines","a","b","c"],"sources":["/Users/tranbao/Downloads/Tic-Tac-Toe/src/App.js"],"sourcesContent":["import { useState } from 'react';\n\nfunction Square({ value, onSquareClick, highlight }) {\n  return (\n    <button\n      className={`square ${highlight ? 'highlight' : ''}`}\n      onClick={onSquareClick}\n    >\n      {value}\n    </button>\n  );\n}\n\nfunction Board({ xIsNext, squares, onPlay }) {\n  function handleClick(i) {\n    if (calculateWinner(squares) || squares[i]) {\n      return;\n    }\n    const nextSquares = squares.slice();\n    nextSquares[i] = xIsNext ? 'X' : 'O';\n    onPlay(nextSquares, i); // ✅ truyền vị trí click lên Game\n  }\n\n  const winnerInfo = calculateWinner(squares);\n  const winner = winnerInfo ? winnerInfo.winner : null;\n  const winningSquares = winnerInfo ? winnerInfo.line : [];\n\n  let status;\n  if (winner) {\n    status = 'Winner: ' + winner;\n  } else if (!squares.includes(null)) {\n    status = 'Draw! No one wins.';\n  } else {\n    status = 'Next player: ' + (xIsNext ? 'X' : 'O');\n  }\n\n  const boardRows = [];\n  for (let row = 0; row < 3; row++) {\n    const rowSquares = [];\n    for (let col = 0; col < 3; col++) {\n      const index = row * 3 + col;\n      const isHighlighted = winningSquares.includes(index);\n      rowSquares.push(\n        <Square\n          key={index}\n          value={squares[index]}\n          onSquareClick={() => handleClick(index)}\n          highlight={isHighlighted}\n        />\n      );\n    }\n    boardRows.push(\n      <div key={row} className=\"board-row\">\n        {rowSquares}\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <div className=\"status\">{status}</div>\n      {boardRows}\n    </>\n  );\n}\n\nexport default function Game() {\n  const [history, setHistory] = useState([\n    { squares: Array(9).fill(null), location: null },\n  ]);\n  const [currentMove, setCurrentMove] = useState(0);\n  const [isAscending, setIsAscending] = useState(true);\n\n  const xIsNext = currentMove % 2 === 0;\n  const currentSquares = history[currentMove].squares;\n\n  function handlePlay(nextSquares, moveIndex) {\n    const row = Math.floor(moveIndex / 3) + 1;\n    const col = (moveIndex % 3) + 1;\n    const moveLocation = `(${row}, ${col})`;\n\n    const nextHistory = [\n      ...history.slice(0, currentMove + 1),\n      { squares: nextSquares, location: moveLocation },\n    ];\n    setHistory(nextHistory);\n    setCurrentMove(nextHistory.length - 1);\n  }\n\n  function jumpTo(nextMove) {\n    setCurrentMove(nextMove);\n  }\n\n  const moves = history.map((step, move) => {\n    const desc =\n      move > 0\n        ? `Go to move #${move} ${step.location ? step.location : ''}`\n        : 'Go to game start';\n\n    if (move === currentMove) {\n      return (\n        <li key={move} className=\"li-items\">\n          You are at move #{move} {step.location ? step.location : ''}\n        </li>\n      );\n    } else {\n      return (\n        <li key={move} className=\"li-items\">\n          <button onClick={() => jumpTo(move)}>{desc}</button>\n        </li>\n      );\n    }\n  });\n\n  const sortedMoves = isAscending ? moves : [...moves].reverse();\n\n  return (\n    <div className=\"game\">\n      <div className=\"game-board\">\n        <Board xIsNext={xIsNext} squares={currentSquares} onPlay={handlePlay} />\n      </div>\n      <div className=\"game-info\">\n        <button onClick={() => setIsAscending(!isAscending)}>\n          Sort {isAscending ? 'Descending' : 'Ascending'}\n        </button>\n        <ol>{sortedMoves}</ol>\n      </div>\n    </div>\n  );\n}\n\n// ✅ Trả về cả người thắng và 3 ô thắng\nfunction calculateWinner(squares) {\n  const lines = [\n    [0, 1, 2],\n    [3, 4, 5],\n    [6, 7, 8],\n    [0, 3, 6],\n    [1, 4, 7],\n    [2, 5, 8],\n    [0, 4, 8],\n    [2, 4, 6],\n  ];\n  for (let i = 0; i < lines.length; i++) {\n    const [a, b, c] = lines[i];\n    if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\n      return { winner: squares[a], line: [a, b, c] };\n    }\n  }\n  return null;\n}\n"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEjC,QAAS,CAAAC,MAAMA,CAAAC,IAAA,CAAsC,IAArC,CAAEC,KAAK,CAAEC,aAAa,CAAEC,SAAU,CAAC,CAAAH,IAAA,CACjD,mBACEN,IAAA,WACEU,SAAS,WAAAC,MAAA,CAAYF,SAAS,CAAG,WAAW,CAAG,EAAE,CAAG,CACpDG,OAAO,CAAEJ,aAAc,CAAAK,QAAA,CAEtBN,KAAK,CACA,CAAC,CAEb,CAEA,QAAS,CAAAO,KAAKA,CAAAC,KAAA,CAA+B,IAA9B,CAAEC,OAAO,CAAEC,OAAO,CAAEC,MAAO,CAAC,CAAAH,KAAA,CACzC,QAAS,CAAAI,WAAWA,CAACC,CAAC,CAAE,CACtB,GAAIC,eAAe,CAACJ,OAAO,CAAC,EAAIA,OAAO,CAACG,CAAC,CAAC,CAAE,CAC1C,OACF,CACA,KAAM,CAAAE,WAAW,CAAGL,OAAO,CAACM,KAAK,CAAC,CAAC,CACnCD,WAAW,CAACF,CAAC,CAAC,CAAGJ,OAAO,CAAG,GAAG,CAAG,GAAG,CACpCE,MAAM,CAACI,WAAW,CAAEF,CAAC,CAAC,CAAE;AAC1B,CAEA,KAAM,CAAAI,UAAU,CAAGH,eAAe,CAACJ,OAAO,CAAC,CAC3C,KAAM,CAAAQ,MAAM,CAAGD,UAAU,CAAGA,UAAU,CAACC,MAAM,CAAG,IAAI,CACpD,KAAM,CAAAC,cAAc,CAAGF,UAAU,CAAGA,UAAU,CAACG,IAAI,CAAG,EAAE,CAExD,GAAI,CAAAC,MAAM,CACV,GAAIH,MAAM,CAAE,CACVG,MAAM,CAAG,UAAU,CAAGH,MAAM,CAC9B,CAAC,IAAM,IAAI,CAACR,OAAO,CAACY,QAAQ,CAAC,IAAI,CAAC,CAAE,CAClCD,MAAM,CAAG,oBAAoB,CAC/B,CAAC,IAAM,CACLA,MAAM,CAAG,eAAe,EAAIZ,OAAO,CAAG,GAAG,CAAG,GAAG,CAAC,CAClD,CAEA,KAAM,CAAAc,SAAS,CAAG,EAAE,CACpB,IAAK,GAAI,CAAAC,GAAG,CAAG,CAAC,CAAEA,GAAG,CAAG,CAAC,CAAEA,GAAG,EAAE,CAAE,CAChC,KAAM,CAAAC,UAAU,CAAG,EAAE,CACrB,IAAK,GAAI,CAAAC,GAAG,CAAG,CAAC,CAAEA,GAAG,CAAG,CAAC,CAAEA,GAAG,EAAE,CAAE,CAChC,KAAM,CAAAC,KAAK,CAAGH,GAAG,CAAG,CAAC,CAAGE,GAAG,CAC3B,KAAM,CAAAE,aAAa,CAAGT,cAAc,CAACG,QAAQ,CAACK,KAAK,CAAC,CACpDF,UAAU,CAACI,IAAI,cACbpC,IAAA,CAACK,MAAM,EAELE,KAAK,CAAEU,OAAO,CAACiB,KAAK,CAAE,CACtB1B,aAAa,CAAEA,CAAA,GAAMW,WAAW,CAACe,KAAK,CAAE,CACxCzB,SAAS,CAAE0B,aAAc,EAHpBD,KAIN,CACH,CAAC,CACH,CACAJ,SAAS,CAACM,IAAI,cACZpC,IAAA,QAAeU,SAAS,CAAC,WAAW,CAAAG,QAAA,CACjCmB,UAAU,EADHD,GAEL,CACP,CAAC,CACH,CAEA,mBACE3B,KAAA,CAAAF,SAAA,EAAAW,QAAA,eACEb,IAAA,QAAKU,SAAS,CAAC,QAAQ,CAAAG,QAAA,CAAEe,MAAM,CAAM,CAAC,CACrCE,SAAS,EACV,CAAC,CAEP,CAEA,cAAe,SAAS,CAAAO,IAAIA,CAAA,CAAG,CAC7B,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGzC,QAAQ,CAAC,CACrC,CAAEmB,OAAO,CAAEuB,KAAK,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC,CAAEC,QAAQ,CAAE,IAAK,CAAC,CACjD,CAAC,CACF,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAG9C,QAAQ,CAAC,CAAC,CAAC,CACjD,KAAM,CAAC+C,WAAW,CAAEC,cAAc,CAAC,CAAGhD,QAAQ,CAAC,IAAI,CAAC,CAEpD,KAAM,CAAAkB,OAAO,CAAG2B,WAAW,CAAG,CAAC,GAAK,CAAC,CACrC,KAAM,CAAAI,cAAc,CAAGT,OAAO,CAACK,WAAW,CAAC,CAAC1B,OAAO,CAEnD,QAAS,CAAA+B,UAAUA,CAAC1B,WAAW,CAAE2B,SAAS,CAAE,CAC1C,KAAM,CAAAlB,GAAG,CAAGmB,IAAI,CAACC,KAAK,CAACF,SAAS,CAAG,CAAC,CAAC,CAAG,CAAC,CACzC,KAAM,CAAAhB,GAAG,CAAIgB,SAAS,CAAG,CAAC,CAAI,CAAC,CAC/B,KAAM,CAAAG,YAAY,KAAAzC,MAAA,CAAOoB,GAAG,OAAApB,MAAA,CAAKsB,GAAG,KAAG,CAEvC,KAAM,CAAAoB,WAAW,CAAG,CAClB,GAAGf,OAAO,CAACf,KAAK,CAAC,CAAC,CAAEoB,WAAW,CAAG,CAAC,CAAC,CACpC,CAAE1B,OAAO,CAAEK,WAAW,CAAEoB,QAAQ,CAAEU,YAAa,CAAC,CACjD,CACDb,UAAU,CAACc,WAAW,CAAC,CACvBT,cAAc,CAACS,WAAW,CAACC,MAAM,CAAG,CAAC,CAAC,CACxC,CAEA,QAAS,CAAAC,MAAMA,CAACC,QAAQ,CAAE,CACxBZ,cAAc,CAACY,QAAQ,CAAC,CAC1B,CAEA,KAAM,CAAAC,KAAK,CAAGnB,OAAO,CAACoB,GAAG,CAAC,CAACC,IAAI,CAAEC,IAAI,GAAK,CACxC,KAAM,CAAAC,IAAI,CACRD,IAAI,CAAG,CAAC,gBAAAjD,MAAA,CACWiD,IAAI,MAAAjD,MAAA,CAAIgD,IAAI,CAACjB,QAAQ,CAAGiB,IAAI,CAACjB,QAAQ,CAAG,EAAE,EACzD,kBAAkB,CAExB,GAAIkB,IAAI,GAAKjB,WAAW,CAAE,CACxB,mBACEvC,KAAA,OAAeM,SAAS,CAAC,UAAU,CAAAG,QAAA,EAAC,mBACjB,CAAC+C,IAAI,CAAC,GAAC,CAACD,IAAI,CAACjB,QAAQ,CAAGiB,IAAI,CAACjB,QAAQ,CAAG,EAAE,GADpDkB,IAEL,CAAC,CAET,CAAC,IAAM,CACL,mBACE5D,IAAA,OAAeU,SAAS,CAAC,UAAU,CAAAG,QAAA,cACjCb,IAAA,WAAQY,OAAO,CAAEA,CAAA,GAAM2C,MAAM,CAACK,IAAI,CAAE,CAAA/C,QAAA,CAAEgD,IAAI,CAAS,CAAC,EAD7CD,IAEL,CAAC,CAET,CACF,CAAC,CAAC,CAEF,KAAM,CAAAE,WAAW,CAAGjB,WAAW,CAAGY,KAAK,CAAG,CAAC,GAAGA,KAAK,CAAC,CAACM,OAAO,CAAC,CAAC,CAE9D,mBACE3D,KAAA,QAAKM,SAAS,CAAC,MAAM,CAAAG,QAAA,eACnBb,IAAA,QAAKU,SAAS,CAAC,YAAY,CAAAG,QAAA,cACzBb,IAAA,CAACc,KAAK,EAACE,OAAO,CAAEA,OAAQ,CAACC,OAAO,CAAE8B,cAAe,CAAC7B,MAAM,CAAE8B,UAAW,CAAE,CAAC,CACrE,CAAC,cACN5C,KAAA,QAAKM,SAAS,CAAC,WAAW,CAAAG,QAAA,eACxBT,KAAA,WAAQQ,OAAO,CAAEA,CAAA,GAAMkC,cAAc,CAAC,CAACD,WAAW,CAAE,CAAAhC,QAAA,EAAC,OAC9C,CAACgC,WAAW,CAAG,YAAY,CAAG,WAAW,EACxC,CAAC,cACT7C,IAAA,OAAAa,QAAA,CAAKiD,WAAW,CAAK,CAAC,EACnB,CAAC,EACH,CAAC,CAEV,CAEA;AACA,QAAS,CAAAzC,eAAeA,CAACJ,OAAO,CAAE,CAChC,KAAM,CAAA+C,KAAK,CAAG,CACZ,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CACT,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CACT,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CACT,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CACT,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CACT,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CACT,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CACT,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CACV,CACD,IAAK,GAAI,CAAA5C,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAG4C,KAAK,CAACV,MAAM,CAAElC,CAAC,EAAE,CAAE,CACrC,KAAM,CAAC6C,CAAC,CAAEC,CAAC,CAAEC,CAAC,CAAC,CAAGH,KAAK,CAAC5C,CAAC,CAAC,CAC1B,GAAIH,OAAO,CAACgD,CAAC,CAAC,EAAIhD,OAAO,CAACgD,CAAC,CAAC,GAAKhD,OAAO,CAACiD,CAAC,CAAC,EAAIjD,OAAO,CAACgD,CAAC,CAAC,GAAKhD,OAAO,CAACkD,CAAC,CAAC,CAAE,CACxE,MAAO,CAAE1C,MAAM,CAAER,OAAO,CAACgD,CAAC,CAAC,CAAEtC,IAAI,CAAE,CAACsC,CAAC,CAAEC,CAAC,CAAEC,CAAC,CAAE,CAAC,CAChD,CACF,CACA,MAAO,KAAI,CACb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}